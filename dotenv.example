# Odoo Rust MCP Server - Environment Configuration
# Copy this file to .env and configure your settings
# DO NOT commit .env to version control!

# =============================================================================
# MULTI-INSTANCE CONFIGURATION (Recommended - Default Setup)
# =============================================================================
# Multi-instance mode allows you to connect to multiple Odoo instances.
# Each instance can be accessed by name in tool calls: {"instance": "production", ...}

# Option 1: JSON File Path (Recommended - easier to read and edit)
# Create a JSON file with your instances configuration (see instances.example.json)
ODOO_INSTANCES_JSON=/config/instances.json

# Option 2: Inline JSON (for simple setups or environment-only config)
# Must be a single line! Uncomment and configure:
# ODOO_INSTANCES={"production":{"url":"http://host.docker.internal:8069","db":"production","version":"18","username":"admin","password":"admin"},"staging":{"url":"http://staging.example.com:8069","db":"staging","apiKey":"YOUR_API_KEY"}}

# =============================================================================
# SINGLE INSTANCE CONFIGURATION (Simple Setup - Alternative)
# =============================================================================
# Use this only if you have a single Odoo instance.
# Comment out ODOO_INSTANCES_JSON above and uncomment these settings.
#
# # Odoo Server URL
# # - For Docker: use host.docker.internal for Odoo on host machine
# # - For Kubernetes: use the Odoo service name (e.g., odoo.namespace.svc.cluster.local)
# ODOO_URL=http://host.docker.internal:8069
# ODOO_DB=mydb
#
# # Odoo 19+ (JSON-2 API with API Key)
# # ODOO_API_KEY=YOUR_API_KEY
#
# # Odoo < 19 (JSON-RPC with Username/Password)
# ODOO_VERSION=18
# ODOO_USERNAME=admin
# ODOO_PASSWORD=admin

# =============================================================================
# CONFIG UI AUTHENTICATION
# =============================================================================
# Login credentials for the web-based configuration interface.
# IMPORTANT: Change these default credentials immediately after first install!
CONFIG_UI_USERNAME=admin
CONFIG_UI_PASSWORD=changeme

# =============================================================================
# MCP HTTP TRANSPORT AUTHENTICATION
# =============================================================================
# Enable/disable Bearer token authentication for HTTP transport.
# When enabled, clients must include "Authorization: Bearer <token>" header.
# STRONGLY RECOMMENDED for production deployments!
#
# Enable/disable MCP HTTP authentication (default: false)
MCP_AUTH_ENABLED=false
#
# The auth token - generate with: openssl rand -hex 32
# Or use the "Generate Token" button in Config UI Security tab.
# MCP_AUTH_TOKEN=your-secure-random-token-here

# =============================================================================
# MCP CONFIGURATION PATHS
# =============================================================================
# For Docker/Kubernetes, these are set automatically via environment.
# For local development with stdio transport, use absolute paths!
#
# MCP_TOOLS_JSON=/config/tools.json
# MCP_PROMPTS_JSON=/config/prompts.json
# MCP_SERVER_JSON=/config/server.json

# =============================================================================
# OPTIONAL SETTINGS
# =============================================================================
# Enable write tools (create, update, delete, execute)
# ODOO_ENABLE_WRITE_TOOLS=true

# Enable destructive cleanup tools (database cleanup, deep cleanup)
# ODOO_ENABLE_CLEANUP_TOOLS=true

# Request timeout in milliseconds
# ODOO_TIMEOUT_MS=30000

# Maximum retry attempts for failed requests
# ODOO_MAX_RETRIES=2

# =============================================================================
# EXAMPLES FOR DIFFERENT DEPLOYMENTS
# =============================================================================

# --- Docker Compose (Multi-instance from file) ---
# ODOO_INSTANCES_JSON=/config/instances.json

# --- Docker Compose (Inline multi-instance) ---
# ODOO_INSTANCES={"production":{"url":"http://host.docker.internal:8069","db":"prod","apiKey":"xxx"},"staging":{"url":"http://odoo:8069","db":"staging","apiKey":"yyy"}}

# --- Kubernetes (Multi-instance from ConfigMap) ---
# ODOO_INSTANCES_JSON=/config/instances.json

# --- Kubernetes (Odoo in same namespace - single instance fallback) ---
# ODOO_URL=http://odoo-service:8069
# ODOO_DB=mydb
# ODOO_API_KEY=your-api-key

# --- Kubernetes (Odoo in different namespace - single instance fallback) ---
# ODOO_URL=http://odoo-service.odoo-namespace.svc.cluster.local:8069
# ODOO_DB=mydb
# ODOO_API_KEY=your-api-key
